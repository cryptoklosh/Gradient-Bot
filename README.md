# Gradient Bot

Gradient Bot – мультиаккаунт бот для работы с веб-приложением [Gradient Network](https://app.gradient.network/).  
Данный скрипт позволяет запускать несколько сессий (нод) для каждого аккаунта с возможностью использования прокси, а также эмулировать «человеческую» активность на сайте.

## Особенности

- **Мультиаккаунт**  
  Аккаунты загружаются из файла `accounts.txt` (формат: `email:password`), либо из переменных окружения (через `.env`: `APP_USER` и `APP_PASS`).

- **Работа с прокси**  
  Прокси можно задать в файле `active_proxies.txt` (каждая строка – отдельный прокси). Если файл отсутствует, бот работает без прокси.  
  Поддерживаются как простые прокси (например, `http://host:port`), так и прокси с аутентификацией (например, `http://user:pass@host:port`).  
  Для прокси с аутентификацией динамически создаётся расширение для Chrome, которое передаёт необходимые данные.

- **Эмуляция активности**  
  Бот периодически:
  - Обновляет страницу (refresh)
  - Прокручивает страницу вниз
  - Имитирует движение мыши (сначала с помощью ActionChains, а при ошибке – через JavaScript)
  - Выполняет клик (если обычный клик не проходит, используется JS‑клик)

 - **Интерактивное меню**  
  При запуске скрипта появляется меню с возможностями:
  1. Автоматический запуск: «1 аккаунт = 1 прокси»
  2. Запустить бота для одного аккаунта (с прокси)
  3. Запустить бота для одного аккаунта (без прокси)
  4. Запустить бота для всех аккаунтов (с прокси)
  5. Запустить бота для всех аккаунтов (без прокси)
  6. Интерактивное добавление новых аккаунтов
  7. Интерактивное добавление новых прокси
  8. Проверка и (на Linux) установка Google Chrome и ChromeDriver (версия 114)
  9. Выход из программы

- **Кроссплатформенность**  
  Скрипт написан на Python и работает как на Windows, так и на Linux. Автоматическая установка Chrome/ChromeDriver реализована только для Linux.

## Требования

- **Python 3.9+**
- **Google Chrome** (рекомендуется версия 114 или выше)
- **ChromeDriver** соответствующей версии  
  (на Windows установку нужно выполнять вручную)
- Библиотеки:
  - `selenium`
  - `webdriver-manager`
  - `python-dotenv`
  - `fake-useragent`
  - `colorama`
  - `requests`

## Установка

1. **Клонируйте репозиторий или скопируйте файлы проекта в локальную директорию:**
   ```bash
   git clone https://github.com/k2wGG/Gradient-Bot.git
   cd Gradient-Bot
   ```

2. **Создайте виртуальное окружение (рекомендуется):**
   - На Linux/Mac:
     ```bash
     python3 -m venv venv
     source venv/bin/activate
     ```
   - На Windows:
     ```bash
     python -m venv venv
     venv\Scripts\activate
     ```

3. **Установите зависимости:**
   Если есть файл `requirements.txt`, выполните:
   ```bash
   pip install -r requirements.txt
   ```
   Если файла нет, установите библиотеки:
   ```bash
   pip install selenium webdriver-manager python-dotenv fake-useragent colorama requests
   ```

## Конфигурация

### Аккаунты

Создайте файл `accounts.txt` в корневой директории проекта, где каждая строка представляет аккаунт в формате:
```
email1:password1
email2:password2
...
```

Либо задайте переменные окружения в файле `.env`:
```
APP_USER=example@mail.com
APP_PASS=secret_password
```

### Прокси

Если вы хотите использовать прокси, создайте файл `active_proxies.txt`, где каждая строка содержит адрес прокси:
```
http://user:pass@proxy1.com:port
http://proxy2.com:port
...
```
Если файл отсутствует, бот будет работать в режиме прямого соединения.

## Запуск

### Обычный запуск

Запустите скрипт:
```bash
python main.py
```

### Запуск в headless-режиме на Linux

Если вы работаете на сервере без графической оболочки, используйте `xvfb-run`:
```bash
xvfb-run -a -s '-screen 0 1920x1080x24' python main.py
```

## Интерфейс управления

После запуска вы увидите меню с опциями:

1. **Автоматический запуск: 1 аккаунт = 1 прокси**  
   Каждому аккаунту будет сопоставлен один прокси (количество прокси должно быть не меньше количества аккаунтов).

2. **Запустить бота для одного аккаунта (с прокси)**  
   Вы можете выбрать аккаунт и прокси, а также задать количество сессий (нод) и задержку между ними.

3. **Запустить бота для одного аккаунта (без прокси)**  
   Запускает сессию для выбранного аккаунта без использования прокси.

4. **Запустить бота для всех аккаунтов (с прокси)**  
   Запускает бота для каждого аккаунта с использованием случайно выбранного прокси из файла.

5. **Запустить бота для всех аккаунтов (без прокси)**  
   Запускает бота для каждого аккаунта без использования прокси.

6. **Добавить новые аккаунты**  
   Интерактивно добавляет новые строки в `accounts.txt`.

7. **Добавить новые прокси**  
   Интерактивно добавляет новые строки в `active_proxies.txt`.

8. **Проверить/Установить Google Chrome и ChromeDriver (Linux)**  
   Позволяет проверить установленные версии или автоматически установить Chrome 114 и ChromeDriver 114 (только для Linux).

9. **Выход**  
   Завершает выполнение программы.

## Примечания

- **Имитация активности:**  
  Для имитации действий бот периодически обновляет страницу, прокручивает её вниз, эмулирует движение мыши (с fallback через JS) и кликает по элементам (также с fallback через JS). Эти механизмы помогают сделать поведение бота более «человеческим», но из-за динамического контента могут возникать временные ошибки – fallback-методы их компенсируют.

- **Headless-режим:**  
  По умолчанию используется headless-режим (`HEADLESS = True`). Если необходимо наблюдать действия браузера, установите значение `False`.

- **Установка Chrome/ChromeDriver:**  
  Автоматическая установка работает только на Linux. На Windows установите Chrome и ChromeDriver вручную.
