Ниже представлен доработанный README, учитывающий новые функции меню, позволяющие автоматически установить нужную версию Chrome и ChromeDriver (114), а также проверить их версии прямо из бота.

---

# Gradient Bot – Мультиаккаунт автоматизация

**Gradient Bot** – это инструмент для автоматизированной работы с веб-сайтом [app.gradient.network](https://app.gradient.network/signup?code=AP28FQ). Проект позволяет запускать несколько сессий (нод) для одного или нескольких аккаунтов одновременно, используя прокси (с поддержкой аутентификации) или без них. Скрипт написан на Python с использованием Selenium для управления Chrome (в том числе в headless‑режиме) и дополнительных библиотек.

## Особенности

- **Мультиаккаунт** – загрузка аккаунтов из файла `accounts.txt` (формат: `логин:пароль`) или из переменных окружения.
- **Работа с прокси** – поддержка прокси с аутентификацией (логин/пароль) с помощью динамического расширения для Chrome.
- **Параллельный запуск** – можно указать, сколько «нод» (сеансов) запускать на каждом аккаунте, а также задержку между их запуском.
- **Headless-режим** – опциональное скрытое открытие браузера (управляется флагом HEADLESS).
- **Цветное логирование** – наглядные логи в консоли с помощью [colorama](https://pypi.org/project/colorama/).

---

## Установка

1. **Клонируйте репозиторий** или скачайте файлы проекта:
   ```bash
   git clone https://github.com/k2wGG/Gradient-Bot.git
   cd Gradient-Bot
   ```

2. **Создайте виртуальное окружение** (рекомендуется):
   ```bash
   python3 -m venv venv
   source venv/bin/activate  # для Linux/MacOS
   venv\Scripts\activate # для Windows
   ```

3. **Установите зависимости**:
   ```bash
   pip install -r requirements.txt
   ```
   Если файла `requirements.txt` нет, поставьте вручную:
   - selenium  
   - webdriver-manager  
   - requests  
   - fake-useragent  
   - python-dotenv  
   - colorama  

   Пример:
   ```bash
   pip install selenium webdriver-manager requests fake-useragent python-dotenv colorama
   ```

4. **Обратите внимание на версии Chrome и ChromeDriver**. По умолчанию для бота требуется совпадение версий, например **Chrome 114** и **ChromeDriver 114**. Если у вас других версий нет или вы хотите настроить всё автоматически, используйте пункт меню **«5. Установить/обновить Chrome 114 и ChromeDriver 114»** (см. раздел «Запуск»).

---

## Конфигурация

### 1. Файл аккаунтов

- Файл `accounts.txt` в корне проекта:
  ```
  user1@example.com:Пароль1
  user2@example.com:Пароль2
  ```
- Если файл **нет**, скрипт читает переменные из `.env`:
  ```
  APP_USER=your_email@example.com
  APP_PASS=your_password
  ```

### 2. Файл прокси

- `active_proxies.txt` со строками вида:
  ```
  http://логин:пароль@host:port
  ```
- Если его нет или он пуст, бот работает напрямую (без прокси).

---

## Запуск

1. **Активируйте** виртуальное окружение (если используете его).
2. Выполните:
   ```bash
   python bot.py
   ```
3. При запуске появится меню:

```
Меню управления:
1. Запустить бота для одного аккаунта (с прокси)
2. Запустить бота для одного аккаунта (без прокси)
3. Запустить бота для всех аккаунтов (с прокси)
4. Запустить бота для всех аккаунтов (без прокси)
5. Установить/обновить Chrome 114 и ChromeDriver 114 (Ubuntu/Debian)
6. Проверить версии Chrome и Chromedriver
7. Выход
Выберите опцию (1-7):
```

### Пояснения к меню

- **Пункты 1–4** запускают бота в разных режимах (для одного аккаунта или для всех, с прокси или без). Вас спросят номер аккаунта, номер прокси (если нужно), число сессий и задержку между их запуском.
- **Пункт 5** – **автоматически удаляет** старые версии Chrome/Chromium, скачивает и **устанавливает** Chrome 114, затем скачивает **ChromeDriver 114** и кладёт его в `/usr/local/bin`. Работает на **Ubuntu/Debian** с `apt-get` и `wget`.
- **Пункт 6** – проверяет версии команд `google-chrome --version` и `chromedriver --version`, чтобы убедиться, что они совпадают (114.x.xxxx.xx).

#### Пример запуска (один аккаунт, с прокси)

```
Выберите опцию: 1
Список аккаунтов:
1. main@rmail.com
Выберите номер аккаунта: 1

Список доступных прокси:
1. http://user:pass@proxy.io:0000
2. http://user:pass@proxy.io:0000
...
Выберите номер прокси (или оставьте пустым для случайного выбора): 1
Использовать один прокси для всех нод? (да/нет): нет
Введите количество сессий (нод): 2
Введите задержку между запуском нод (в секундах): 100
```

В логе отобразятся сообщения об авторизации, загрузке расширения и т.д.

---

## Ограничения и рекомендации

1. **Соответствие версий Chrome и ChromeDriver**  
   Для стабильной работы Selenium версии браузера и драйвера должны совпадать (например, 114). Если у вас уже установлен Chrome 114 и chromedriver 114 – всё в порядке. Если нет – воспользуйтесь пунктом «5» в меню или установите их вручную.

2. **Количество сессий**  
   Много одновременных сессий (например, более 3–4) на один аккаунт может привести к бану или капче. Будьте аккуратны.

3. **Headless‑режим**  
   Если у вас возникают проблемы с расширениями при headless, попробуйте `HEADLESS = False` и/или используйте `xvfb-run`.

4. **Прокси**  
   Если прокси требует логин/пароль, скрипт на лету генерирует расширение. Не все порты у прокси‑провайдеров могут быть стабильными.

---

## Решение проблем

- **Ошибка «Chrome failed to start: exited abnormally (DevToolsActivePort file doesn't exist)»**  
  Обычно означает краш браузера. Проверьте, что у вас установлены необходимые библиотеки, используете правильные версии Chrome/ChromeDriver, что прокси не блокирует соединение.

- **«Успешная авторизация» но дальше «Прокси не сработал»**  
  Любой эксепшен в процессе (например, при загрузке расширения) выводит такое сообщение. Подробности смотрите в логе. Возможно, прокси нестабильен или страница повисла.

- **Остановка**  
  Если нужно экстренно остановить все сессии, нажмите `Ctrl+C`. Скрипт перехватит `KeyboardInterrupt` и завершит работу.

---

### Благодарности

- Библиотеки: [Selenium](https://www.selenium.dev/), [requests](https://pypi.org/project/requests/), [fake-useragent](https://pypi.org/project/fake-useragent/), [colorama](https://pypi.org/project/colorama/).
- [ChromeDriver](https://chromedriver.chromium.org/) и [Google Chrome](https://www.google.com/chrome/) за возможность управления браузером.
- Сообщество [app.gradient.network](https://app.gradient.network/signup?code=AP28FQ) за обмен опытом.
